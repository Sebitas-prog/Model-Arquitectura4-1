<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <title>Nueva Reserva</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/style.css}">
</head>
<body class="bg-light">
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
    <div class="container">
      <a class="navbar-brand" th:href="@{/reservas}">Reservas</a>
    </div>
  </nav>

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <div class="card shadow-sm">
          <div class="card-body">
            <h1 class="h4 mb-4">Crear nueva reserva</h1>

            <form th:action="@{/reservas}" method="post" class="needs-validation" novalidate>
              <div class="mb-3">
                <label class="form-label">Recurso</label>
                <input type="text" class="form-control" name="recurso" required>
                <div class="invalid-feedback">Ingresa el recurso.</div>
              </div>

              <div class="mb-3">
                <label class="form-label">Solicitante</label>
                <input type="text" class="form-control" name="solicitante" required>
                <div class="invalid-feedback">Ingresa el solicitante.</div>
              </div>

              <div class="mb-3">
                <label class="form-label">Fecha y hora</label>
                <input type="datetime-local" class="form-control" name="fecha" required step="1">
                <div class="form-text">Formato: año-mes-día hora:minuto.</div>
                <div class="invalid-feedback">Selecciona fecha y hora.</div>
              </div>

              <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">Guardar</button>
                <a th:href="@{/reservas}" class="btn btn-outline-secondary">Cancelar</a>
              </div>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Bootstrap client-side validation
    (() => {
      'use strict';
      const forms = document.querySelectorAll('.needs-validation');
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    })();
  </script>
</body>
</html>
